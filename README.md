# Bosh OpenSSL plugin

Bosh CLI Plugin to generate RSA keys, self-signed certificates, and random passwords

## What is BOSH?
BOSH orchestrates initial deployments and ongoing updates that are: predictable, repeatable, reliable, self-healing, infrastructure-agnostic. You can take a look on [BOSH project on GitHub](https://github.com/cloudfoundry/bosh) and read more details in [docs](http://docs.cloudfoundry.org/bosh/).

## How to install
```
gem install bosh-openssl
```

## How to use

In your BOSH manifest, use the `get_*` helpers to fetch openssl "secrets" from the `~/.bosh/openssl` folder.

The first time `get_*` is called it will generate and store the "secret".

If you have a valid `VAULT_ADDR` environment variable defined; secrets will be stored 
in your [Vault](https://www.vaultproject.io/) rather than on your file system

```
  properties:
    my_secret: <%= get_password 'my_password' %> 
    private_key: <%= get_private_key 'my_key' %>
    public_key: <%= get_public_key 'my_key' %>
    cert: <%= get_certificate 'my_cert', 'my_key', '*.example.com' %>
    cert_with_key: <%= get_certificate_and_key 'my_cert', 'my_key', '*.example.com' %>
```

## Contributing

1. Fork it
2. Create your feature branch (`git checkout -b my-new-feature`)
3. Commit your changes (`git commit -am 'Add some feature'`)
4. Push to the branch (`git push origin my-new-feature`)
5. Create new Pull Request

## Notes

Generated by [BOSH plugin generator](https://github.com/Altoros/bosh-plugin-generator)
